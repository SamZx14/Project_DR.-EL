<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr. EL - Allergy Tracker</title>
    <meta name="description" content="Dr. EL - Your personal allergy management and tracking system">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>ü©∫ Dr. EL</h1>
                <p class="tagline">Your Personal Allergy Management System</p>
            </div>
            <div class="nav-menu">
                <button class="nav-btn active" onclick="showSection('entry')" id="nav-entry">Log Entry</button>
                <button class="nav-btn" onclick="showSection('heatmaps')" id="nav-heatmaps">Heatmaps</button>
                <button class="nav-btn" onclick="showSection('analysis')" id="nav-analysis">Analysis</button>
                <button class="nav-btn" onclick="showSection('about')" id="nav-about">About</button>
                <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn" title="Toggle theme">
                    <span class="theme-icon">üåô</span>
                </button>
            </div>
        </div>
    </nav>

    <main class="container">
        <!-- SECTION 1: LOG ENTRY PAGE -->
        <section id="entry-section" class="section active">
            <div class="welcome-message">
                <h2>Welcome to Dr. EL</h2>
                <p>Track your allergic reactions and discover patterns with intelligent heatmap analysis</p>
            </div>
            <div class="section-header">
                <h3>Log New Allergy Entry</h3>
                <p class="entry-count">Total Entries: <span id="total-entries">0</span></p>
            </div>

            <div class="form-container">
                <form id="entry-form" onsubmit="saveEntry(event)">
                    <div class="form-grid">
                        <!-- Manual Inputs -->
                        <div class="form-group">
                            <label for="food" class="form-label">Food Name *</label>
                            <input type="text" id="food" class="form-control" required minlength="2" placeholder="e.g., Peanuts, Shellfish">
                        </div>

                        <div class="form-group">
                            <label for="symptoms" class="form-label">Symptoms *</label>
                            <textarea id="symptoms" class="form-control" required minlength="3" rows="3" placeholder="Describe your symptoms..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="severity" class="form-label">Severity: <span id="severity-value">3</span></label>
                            <input type="range" id="severity" min="1" max="5" value="3" class="severity-slider" oninput="updateSeverityDisplay(this.value)">
                            <div class="severity-labels">
                                <span>Mild</span>
                                <span>Moderate</span>
                                <span>Severe</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="notes" class="form-label">Additional Notes</label>
                            <textarea id="notes" class="form-control" rows="3" placeholder="Any additional information..."></textarea>
                        </div>
                    </div>

                    <!-- Auto-filled Data -->
                    <div class="auto-data">
                        <h3>Automatically Collected Data</h3>
                        <div class="auto-grid">
                            <div class="auto-item">
                                <span class="auto-label">üìÖ Date:</span>
                                <span id="auto-date" class="auto-value">Loading...</span>
                            </div>
                            <div class="auto-item">
                                <span class="auto-label">üïê Time:</span>
                                <span id="auto-time" class="auto-value">Loading...</span>
                            </div>
                            <div class="auto-item">
                                <span class="auto-label">üìç Location:</span>
                                <span id="auto-location" class="auto-value">Getting location...</span>
                            </div>
                            <div class="auto-item">
                                <span class="auto-label">üå§Ô∏è Weather:</span>
                                <span id="auto-weather" class="auto-value">Fetching weather...</span>
                            </div>
                            <div class="auto-item">
                                <span class="auto-label">üå°Ô∏è Temperature:</span>
                                <span id="auto-temperature" class="auto-value">--¬∞C</span>
                            </div>
                            <div class="auto-item">
                                <span class="auto-label">üçÇ Season:</span>
                                <span id="auto-season" class="auto-value">Loading...</span>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn btn--primary btn--full-width">Save Entry</button>
                </form>

                <div id="success-message" class="success-message hidden">
                    ‚úÖ Entry saved successfully!
                </div>
                <div id="error-message" class="error-message hidden"></div>
            </div>
        </section>

        <!-- SECTION 2: HEATMAPS PAGE -->
        <section id="heatmaps-section" class="section">
            <div class="section-header">
                <h2>Dr. EL - Allergy Heatmaps</h2>
                <p>Visual analysis of your allergy patterns</p>
            </div>

            <!-- Calendar Heatmap -->
            <div class="calendar-heatmap-container">
                <div class="calendar-header-section">
                    <h3>üìÖ Calendar Heatmap</h3>
                    <div class="calendar-controls">
                        <button class="btn btn--secondary btn--small" onclick="changeMonth(-1)" id="prev-month-btn">‚Üê Prev</button>
                        <h4 id="calendar-month-year" class="calendar-month-title">Loading...</h4>
                        <button class="btn btn--secondary btn--small" onclick="changeMonth(1)" id="next-month-btn">Next ‚Üí</button>
                    </div>
                    <div class="calendar-mode-toggle">
                        <button class="btn btn--secondary btn--small" onclick="toggleCalendarMode()" id="calendar-mode-btn">
                            Mode: <span id="calendar-mode-text">Frequency</span>
                        </button>
                    </div>
                </div>
                
                <div class="calendar-grid-container">
                    <div class="calendar-day-labels">
                        <div class="day-label">Mon</div>
                        <div class="day-label">Tue</div>
                        <div class="day-label">Wed</div>
                        <div class="day-label">Thu</div>
                        <div class="day-label">Fri</div>
                        <div class="day-label">Sat</div>
                        <div class="day-label">Sun</div>
                    </div>
                    <div id="calendar-grid" class="calendar-grid">
                        <!-- Calendar cells will be generated by JavaScript -->
                    </div>
                </div>

                <div class="calendar-legend">
                    <span class="legend-label">Legend:</span>
                    <div class="legend-items">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #f0f0f0; border: 1px solid #ddd;"></div>
                            <span>0</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #faa5a5;"></div>
                            <span>1</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #ff6363;"></div>
                            <span>2-3</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #f60a0a;"></div>
                            <span>4-5</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #a20202;"></div>
                            <span>6+</span>
                        </div>
                    </div>
                </div>

                <div id="calendar-tooltip" class="calendar-tooltip hidden"></div>
            </div>

            <div class="heatmaps-grid">
                <div class="chart-container">
                    <h3>Food Triggers Heatmap</h3>
                    <div class="chart-wrapper">
                        <canvas id="food-chart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>Time of Day Heatmap</h3>
                    <div class="chart-wrapper">
                        <canvas id="time-chart"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>Location Heatmap</h3>
                    <div id="location-heatmap" class="location-list">
                        <p class="no-data">No location data available</p>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>Seasonal Heatmap</h3>
                    <div class="chart-wrapper">
                        <canvas id="season-chart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: ANALYSIS PAGE -->
        <section id="analysis-section" class="section">
            <div class="section-header">
                <h2>Dr. EL - Analysis &amp; Insights</h2>
                <p>Detailed breakdown of your allergy triggers</p>
            </div>

            <!-- Top Triggers -->
            <div class="analysis-container">
                <h3>Top Triggers</h3>
                <div class="table-wrapper">
                    <table id="triggers-table" class="data-table">
                        <thead>
                            <tr>
                                <th>Food</th>
                                <th>Occurrences</th>
                                <th>Avg Severity</th>
                                <th>Last Occurrence</th>
                            </tr>
                        </thead>
                        <tbody id="triggers-tbody">
                            <tr>
                                <td colspan="4" class="no-data">No data available</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Week-over-Week Analysis -->
            <div class="analysis-container">
                <h3>Week-over-Week Severity Trend</h3>
                <div id="trend-indicator" class="trend-indicator"></div>
                <div class="chart-wrapper">
                    <canvas id="weekly-chart"></canvas>
                </div>
            </div>

            <!-- All Entries Table -->
            <div class="analysis-container">
                <h3>All Entries</h3>
                <div class="table-wrapper">
                    <table id="entries-table" class="data-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Time</th>
                                <th>Food</th>
                                <th>Symptoms</th>
                                <th>Severity</th>
                                <th>Weather</th>
                                <th>Notes</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="entries-tbody">
                            <tr>
                                <td colspan="8" class="no-data">No entries yet</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- SECTION 4: ABOUT PAGE -->
        <section id="about-section" class="section">
            <div class="section-header">
                <h2>About Dr. EL</h2>
                <p>Learn more about our platform, vision, and future plans</p>
            </div>

            <!-- Section 1: About the Project -->
            <div class="about-container">
                <h3>ü©∫ About the Project</h3>
                <div class="about-content">
                    <p>
                        Dr. EL is an intelligent allergy tracking and management system designed to help individuals 
                        understand their allergic reactions through data visualization and pattern analysis. The platform 
                        combines manual symptom logging with automatic environmental data collection to provide comprehensive 
                        insights into allergy triggers.
                    </p>
                    <p>
                        Our system automatically captures location, weather conditions, time, and seasonal data while you 
                        focus on logging your symptoms. Using advanced heatmap visualizations and analytics, Dr. EL helps 
                        you identify patterns that might otherwise go unnoticed.
                    </p>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">üìù</span>
                            <span class="feature-text">Real-time allergy reaction logging</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üåç</span>
                            <span class="feature-text">Automatic environmental data collection</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üìä</span>
                            <span class="feature-text">Four interactive heatmap visualizations</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üéØ</span>
                            <span class="feature-text">Top triggers analysis</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üìà</span>
                            <span class="feature-text">Week-over-week trend tracking</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üîí</span>
                            <span class="feature-text">Privacy-focused local data storage</span>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Section 2: Future Scope -->
            <div class="about-container">
                <h3>üöÄ Future Scope</h3>
                <div class="about-content">
                    <p>
                        In the future, the Allergic Heat Map system can be enhanced with advanced AI and automation 
                        features to provide deeper and more accurate health insights. Machine learning algorithms can 
                        be used to analyze long-term user data and predict potential allergy triggers before symptoms occur. 
                        AI-powered recommendation engines can automatically suggest safe foods, risky ingredients, and 
                        preventive steps based on individual patterns. The system can also introduce automatic data 
                        suggestions, such as predicting symptoms from past trends, auto-filling form fields, and generating 
                        smart alerts when weather conditions increase allergy risk. With more advanced analytics, the app 
                        can generate personalized reports, highlight hidden correlations, and even integrate with wearable 
                        devices to track real-time health signals. These improvements will make the platform more intelligent, 
                        proactive, and supportive for users managing allergies.
                    </p>
                    <div class="future-features">
                        <div class="future-item">
                            <span class="future-icon">ü§ñ</span>
                            <span class="future-text">AI-powered allergy prediction</span>
                        </div>
                        <div class="future-item">
                            <span class="future-icon">üîç</span>
                            <span class="future-text">Machine learning pattern analysis</span>
                        </div>
                        <div class="future-item">
                            <span class="future-icon">üçé</span>
                            <span class="future-text">Smart food recommendations</span>
                        </div>
                        <div class="future-item">
                            <span class="future-icon">‚ö°</span>
                            <span class="future-text">Automatic data suggestions</span>
                        </div>
                        <div class="future-item">
                            <span class="future-icon">üìä</span>
                            <span class="future-text">Advanced personalized reports</span>
                        </div>
                        <div class="future-item">
                            <span class="future-icon">‚åö</span>
                            <span class="future-text">Wearable device integration</span>
                        </div>
                        <div class="future-item">
                            <span class="future-icon">üå¶Ô∏è</span>
                            <span class="future-text">Weather-based alerts</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 3: About Us -->
            <div class="about-container">
                <h3>üë• About Us</h3>
                <div class="about-content">
                    <p>
                        Dr. EL is developed by a dedicated team of developers passionate about using technology to 
                        improve health management. We believe that everyone should have access to tools that help them 
                        understand their bodies better and make informed decisions about their health.
                    </p>
                    <div class="mission-vision">
                        <div class="mission-item">
                            <h4>üéØ Our Mission</h4>
                            <p>
                                To empower individuals to better understand and manage their allergies through 
                                technology and data-driven insights.
                            </p>
                        </div>
                        <div class="mission-item">
                            <h4>üî≠ Our Vision</h4>
                            <p>
                                A world where allergy management is proactive, personalized, and powered by intelligent 
                                data analysis.
                            </p>
                        </div>
                    </div>
                    <p>
                        <strong>Privacy &amp; Security:</strong> We are committed to user privacy and data security. 
                        All your allergy data stays on your device, giving you complete control over your health information. 
                        We never collect, store, or share your personal health data with third parties.
                    </p>
                </div>
            </div>

            <!-- Section 4: Meet Our Team -->
            <div class="about-container">
                <h3>üë• Meet Our Team</h3>
                <p class="team-intro">
                    Our dedicated team is committed to building intelligent health solutions. Meet the passionate developers behind Dr. EL.
                </p>
                <div class="team-grid">
                    <!-- Team Member 1: Sayem Islam Leon -->
                    <div class="team-card">
                        <img src="./image/sayem.jpeg" alt="Sayem Islam Leon - Developer" class="team-photo">
                        <h4 class="team-name">Sayem Islam Leon</h4>
                        <p class="team-role">Developer</p>
                        <div class="team-socials">
                            <a href="https://github.com/SayemXx" class="social-btn" target="_blank" rel="noopener noreferrer" title="Visit GitHub">
                                <span class="social-btn-icon">üíª</span>
                                <span class="social-btn-text">GitHub</span>
                            </a>
                            <a href="https://www.linkedin.com/in/sayem-islam-leon-98b467305" class="social-btn" target="_blank" rel="noopener noreferrer" title="Visit LinkedIn">
                                <span class="social-btn-icon">üíº</span>
                                <span class="social-btn-text">LinkedIn</span>
                            </a>
                        </div>
                    </div>

                    <!-- Team Member 2: Samira Ibrahim -->
                    <div class="team-card">
                        <img src="./image/samira.jpeg" alt="Samira Ibrahim" class="team-photo">
                        <h4 class="team-name">Samira Ibrahim</h4>
                        <p class="team-role">Developer</p>
                        <div class="team-socials">
                            <a href="https://github.com/SamZx14" class="social-btn" target="_blank" rel="noopener noreferrer" title="Visit GitHub">
                                <span class="social-btn-icon">üíª</span>
                                <span class="social-btn-text">GitHub</span>
                            </a>
                            <a href="https://www.linkedin.com/in/samira-ibrahim-8b5439317" class="social-btn" target="_blank" rel="noopener noreferrer" title="Visit LinkedIn">
                                <span class="social-btn-icon">üíº</span>
                                <span class="social-btn-text">LinkedIn</span>
                            </a>
                        </div>
                    </div>

                    <!-- Team Member 3: Motmayeen Billah -->
                    <div class="team-card">
                        <img src="./image/billah.jpeg" alt="Billah - Developer" class="team-photo">
                        <h4 class="team-name">Motmayeen Billah</h4>
                        <p class="team-role">Developer</p>
                        <div class="team-socials">
                            <a href="https://github.com/billahmasrur" class="social-btn" target="_blank" rel="noopener noreferrer" title="Visit GitHub">
                                <span class="social-btn-icon">üíª</span>
                                <span class="social-btn-text">GitHub</span>
                            </a>
                        </div>
                    </div>

                    <!-- Team Member 4: Farzana Shanjida Shinzu -->
                    <div class="team-card">
                        <img src="./image/shinzu.jpeg" alt="Shinzu" class="team-photo">
                        <h4 class="team-name">Farzana Shanjida Shinzu</h4>
                        <p class="team-role">Developer</p>
                        <div class="team-socials">
                            <a href="https://github.com/FSshinzu" class="social-btn" target="_blank" rel="noopener noreferrer" title="Visit GitHub">
                                <span class="social-btn-icon">üíª</span>
                                <span class="social-btn-text">GitHub</span>
                            </a>
                            <a href="https://www.linkedin.com/in/farzana-shanjida-shinzu-ba8254334" class="social-btn" target="_blank" rel="noopener noreferrer" title="Visit LinkedIn">
                                <span class="social-btn-icon">üíº</span>
                                <span class="social-btn-text">LinkedIn</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>


        </section>
    </main>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal hidden">
        <div class="modal-content">
            <h3>Confirm Delete</h3>
            <p>Are you sure you want to delete this entry?</p>
            <div class="modal-actions">
                <button class="btn btn--secondary" onclick="closeDeleteModal()">Cancel</button>
                <button class="btn btn--primary" onclick="confirmDelete()" style="background-color: var(--color-error);">Delete</button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <p class="footer-brand">Dr. EL ¬© 2025 - Personal Allergy Tracker</p>
            <p class="footer-disclaimer">For personal tracking purposes only. Consult healthcare professionals for medical advice.</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>